(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30d941aa"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"841c":function(e,t,c){"use strict";var r=c("d784"),n=c("825a"),s=c("1d80"),a=c("129f"),i=c("14c3");r("search",1,(function(e,t,c){return[function(t){var c=s(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,c):new RegExp(t)[e](String(c))},function(e){var r=c(t,e,this);if(r.done)return r.value;var s=n(e),o=String(this),u=s.lastIndex;a(u,0)||(s.lastIndex=0);var l=i(s,o);return a(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]}))},"998b":function(e,t,c){},"9c15":function(e,t,c){"use strict";c("998b")},c216:function(e,t,c){"use strict";c("c9e9")},c9e9:function(e,t,c){},efe3:function(e,t,c){"use strict";c.r(t);c("ac1f"),c("841c");var r=c("7a23"),n=Object(r["S"])("data-v-77e5de88");Object(r["B"])("data-v-77e5de88");var s={class:"search"},a={class:"nav-top"},i={class:"search-suggest"},o=Object(r["j"])("i",{class:"iconfont icon-search3-copy"},null,-1),u={key:0,class:"history"},l=Object(r["j"])("div",{class:"left"},"历史",-1),h={class:"right",ref:"rightHisRef"},d={class:"content",ref:"keywordHisRef"},f={class:"hot-search"},j={class:"item-list"},b={class:"index"},O={class:"name"};Object(r["z"])();var y=n((function(e,t,c,n,y,v){var k=Object(r["F"])("ItemHeader");return Object(r["y"])(),Object(r["f"])("div",s,[Object(r["j"])("div",a,[Object(r["j"])("i",{class:"iconfont icon-back",onClick:t[1]||(t[1]=function(t){return e.$router.go(-1)})}),Object(r["j"])("form",{class:"form",action:"javascript:return true;",onSubmit:t[6]||(t[6]=Object(r["R"])((function(){return!1}),["prevent"]))},[Object(r["P"])(Object(r["j"])("input",{class:"input",onKeydown:t[2]||(t[2]=Object(r["Q"])((function(){return n.search.apply(n,arguments)}),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.state.keyword=e}),placeholder:n.state.defaultKeyword,onFocus:t[4]||(t[4]=function(e){return n.state.isFocus=!0}),onBlur:t[5]||(t[5]=function(){return n.blurInput.apply(n,arguments)})},null,40,["placeholder"]),[[r["L"],n.state.keyword]])],32)]),Object(r["P"])(Object(r["j"])("div",i,[Object(r["j"])("div",{class:"suggest-item",onClick:t[7]||(t[7]=function(e){return n.toSearchMusicList(n.state.keyword)})},' 搜索 "'+Object(r["J"])(n.state.keyword)+'" ',1),(Object(r["y"])(!0),Object(r["f"])(r["a"],null,Object(r["E"])(n.state.searchSuggestList,(function(e,t){return Object(r["y"])(),Object(r["f"])("div",{class:"suggest-item",key:t,onClick:function(t){return n.toSearchMusicList(e.keyword)}},[o,Object(r["i"])(" "+Object(r["J"])(e.keyword),1)],8,["onClick"])})),128))],512),[[r["M"],n.state.isFocus&&n.state.keyword]]),0!==n.state.historySearch.length?(Object(r["y"])(),Object(r["f"])("div",u,[l,Object(r["j"])("div",h,[Object(r["j"])("div",d,[(Object(r["y"])(!0),Object(r["f"])(r["a"],null,Object(r["E"])(n.state.historySearch,(function(e,t){return Object(r["y"])(),Object(r["f"])("div",{class:"keyword-item",key:t,onClick:function(t){return n.toSearchMusicList(e,!0)}},Object(r["J"])(e),9,["onClick"])})),128))],512)],512),Object(r["j"])("i",{class:"iconfont icon-detail",onClick:t[8]||(t[8]=function(){return n.clearHistory.apply(n,arguments)})})])):Object(r["g"])("",!0),Object(r["j"])("div",f,[Object(r["j"])(k,{fontSize:"0.3",title:"热搜榜",isShowRight:!1}),Object(r["j"])("div",j,[(Object(r["y"])(!0),Object(r["f"])(r["a"],null,Object(r["E"])(n.state.hotSearchList,(function(e,t){return Object(r["y"])(),Object(r["f"])("div",{onClick:function(t){return n.toSearchMusicList(e.searchWord)},class:"item",key:t},[Object(r["j"])("div",b,Object(r["J"])(t+1),1),Object(r["j"])("div",O,Object(r["J"])(e.searchWord),1),e.iconUrl?(Object(r["y"])(),Object(r["f"])("img",{key:0,class:"icon",src:e.iconUrl},null,8,["src"])):Object(r["g"])("",!0)],8,["onClick"])})),128))])])])})),v=(c("4160"),c("a630"),c("3ca3"),c("498a"),c("159b"),c("e17f"),c("2241")),k=(c("96cf"),c("1da1")),w=c("229e"),p=c("6c02"),S=c("23d8"),g=c("408b"),m=c("163b"),x={components:{ItemHeader:S["a"]},setup:function(){var e=Object(r["C"])({keyword:"",defaultKeyword:"",isFocus:!1,searchSuggestList:[],hotSearchList:[],historySearch:[]}),t=Object(r["D"])(null),c=Object(r["D"])(null),n=Object(r["D"])(0),s=Object(r["D"])(null),a=Object(p["d"])();function i(){setTimeout((function(){e.isFocus=!1}),300)}function o(){e.keyword.trim()&&(e.historySearch.unshift(e.keyword),localStorage.historySearch=JSON.stringify(e.historySearch),a.push({path:"/searchMusicList",query:{keyword:e.keyword}}))}function u(t){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.keyword=t,c||(e.historySearch.unshift(e.keyword),localStorage.historySearch=JSON.stringify(e.historySearch)),a.push({path:"/searchMusicList",query:{keyword:e.keyword}})}function l(){v["a"].confirm({message:"是否清空全部历史记录？"}).then((function(){localStorage.clear("historySearch"),e.historySearch=[]})).catch((function(){}))}return Object(r["s"])(Object(k["a"])(regeneratorRuntime.mark((function t(){var c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.historySearch=localStorage.historySearch?JSON.parse(localStorage.historySearch):[],t.next=3,Object(g["c"])();case 3:return c=t.sent,e.defaultKeyword=c.data.realkeyword,t.next=7,Object(g["d"])();case 7:r=t.sent,e.hotSearchList=r.data;case 9:case"end":return t.stop()}}),t)})))),Object(r["v"])((function(){0!==e.historySearch.length&&(s.value=document.querySelectorAll(".keyword-item"),Array.from(s.value).forEach((function(e){n.value+=e.offsetWidth+11})),c.value.style.width=n.value+"px",new w["a"](t.value,{scrollX:!0,scrollY:!1,click:!0}))})),Object(r["N"])((function(){return e.keyword}),Object(m["a"])(function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(c){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.keyword){t.next=3;break}return e.searchSuggestList=[],t.abrupt("return");case 3:return t.next=5,Object(g["h"])(c);case 5:r=t.sent,e.searchSuggestList=r.result.allMatch;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),100)),{state:e,search:o,focus:focus,rightHisRef:t,keywordHisRef:c,clearHistory:l,toSearchMusicList:u,blurInput:i}}};c("c216"),c("9c15");x.render=y,x.__scopeId="data-v-77e5de88";t["default"]=x}}]);
//# sourceMappingURL=chunk-30d941aa.c2bdef18.js.map